<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0"><meta name="baidu-site-verification" content="code-KCMz4b3cnd"><meta name="google-site-verification" content="MTp8U7dJ1uzrfz8Mu6rgqX1CIm3HjqPWd0xaRcv1tFg"><link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.png"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png"><link rel="mask-icon" href="/images/favicon.png" color="#222"><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/lib/font-awesome/css/all.min.css"><script id="hexo-configurations">var NexT=window.NexT||{},CONFIG={hostname:"aisakaaoi.github.io",root:"/",scheme:"Pisces",version:"7.8.0",exturl:!1,sidebar:{position:"left",display:"post",padding:18,offset:12,onmobile:!1},copycode:{enable:!1,show_result:!1,style:null},back2top:{enable:!0,sidebar:!0,scrollpercent:!0},bookmark:{enable:!1,color:"#222",save:"auto"},fancybox:!1,mediumzoom:!1,lazyload:!1,pangu:!1,comments:{style:"tabs",active:"valine",storage:!0,lazyload:!1,nav:null,activeClass:"valine"},algolia:{hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}},localsearch:{enable:!0,trigger:"auto",top_n_per_article:1,unescape:!1,preload:!1},motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},path:"search.xml"}</script><meta name="description" content="什么是KKTKKT条件（Karush Kuhn Tucker conditions）是最优化（特别是非线性规划）领域最重要的成果之一，是判断某点是极值点的必要条件。 可理解好它需要用到梯度、松弛变量、对偶理论等知识，想讲好KKT条件是具有一定难度的。 本文第一部分侧重于理论部分，第二部分给出运用KKT条件进行数值和符号运算的Matlab代码。基于此，大家可以非常方便地应用于自己的论文写作。 在介绍"><meta property="og:type" content="article"><meta property="og:title" content="数学基础-KKT条件，原来如此简单 | 理论+算例实践"><meta property="og:url" content="https://aisakaaoi.github.io/9dca7274.html"><meta property="og:site_name" content="逢坂葵的个人博客"><meta property="og:description" content="什么是KKTKKT条件（Karush Kuhn Tucker conditions）是最优化（特别是非线性规划）领域最重要的成果之一，是判断某点是极值点的必要条件。 可理解好它需要用到梯度、松弛变量、对偶理论等知识，想讲好KKT条件是具有一定难度的。 本文第一部分侧重于理论部分，第二部分给出运用KKT条件进行数值和符号运算的Matlab代码。基于此，大家可以非常方便地应用于自己的论文写作。 在介绍"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://aisakaaoi.github.io/9dca7274/1.webp"><meta property="og:image" content="https://aisakaaoi.github.io/9dca7274/2.webp"><meta property="og:image" content="https://aisakaaoi.github.io/9dca7274/3.webp"><meta property="og:image" content="https://aisakaaoi.github.io/9dca7274/4.webp"><meta property="og:image" content="https://aisakaaoi.github.io/9dca7274/5.webp"><meta property="og:image" content="https://aisakaaoi.github.io/9dca7274/6.webp"><meta property="og:image" content="https://aisakaaoi.github.io/9dca7274/7.webp"><meta property="og:image" content="https://aisakaaoi.github.io/9dca7274/8.webp"><meta property="og:image" content="https://aisakaaoi.github.io/9dca7274/9.webp"><meta property="og:image" content="https://aisakaaoi.github.io/9dca7274/10.webp"><meta property="og:image" content="https://aisakaaoi.github.io/9dca7274/11.webp"><meta property="og:image" content="https://aisakaaoi.github.io/9dca7274/12.webp"><meta property="og:image" content="https://aisakaaoi.github.io/9dca7274/13.webp"><meta property="og:image" content="https://aisakaaoi.github.io/9dca7274/14.webp"><meta property="og:image" content="https://aisakaaoi.github.io/9dca7274/15.webp"><meta property="og:image" content="https://aisakaaoi.github.io/9dca7274/16.webp"><meta property="og:image" content="https://aisakaaoi.github.io/9dca7274/17.webp"><meta property="og:image" content="https://aisakaaoi.github.io/9dca7274/18.webp"><meta property="og:image" content="https://aisakaaoi.github.io/9dca7274/19.webp"><meta property="og:image" content="https://aisakaaoi.github.io/9dca7274/20.webp"><meta property="og:image" content="https://aisakaaoi.github.io/9dca7274/21.webp"><meta property="og:image" content="https://aisakaaoi.github.io/9dca7274/22.webp"><meta property="og:image" content="https://aisakaaoi.github.io/9dca7274/23.webp"><meta property="og:image" content="https://aisakaaoi.github.io/9dca7274/24.webp"><meta property="og:image" content="https://aisakaaoi.github.io/9dca7274/25.webp"><meta property="og:image" content="https://aisakaaoi.github.io/9dca7274/26.webp"><meta property="og:image" content="https://aisakaaoi.github.io/9dca7274/27.webp"><meta property="og:image" content="https://aisakaaoi.github.io/9dca7274/28.webp"><meta property="og:image" content="https://aisakaaoi.github.io/9dca7274/29.webp"><meta property="og:image" content="https://aisakaaoi.github.io/9dca7274/30.webp"><meta property="og:image" content="https://aisakaaoi.github.io/9dca7274/31.webp"><meta property="og:image" content="https://aisakaaoi.github.io/9dca7274/32.webp"><meta property="og:image" content="https://aisakaaoi.github.io/9dca7274/33.webp"><meta property="og:image" content="https://aisakaaoi.github.io/9dca7274/34.webp"><meta property="og:image" content="https://aisakaaoi.github.io/9dca7274/35.webp"><meta property="og:image" content="https://aisakaaoi.github.io/9dca7274/36.webp"><meta property="og:image" content="https://aisakaaoi.github.io/9dca7274/37.webp"><meta property="og:image" content="https://aisakaaoi.github.io/9dca7274/38.webp"><meta property="og:image" content="https://aisakaaoi.github.io/9dca7274/39.webp"><meta property="og:image" content="https://aisakaaoi.github.io/9dca7274/40.webp"><meta property="og:image" content="https://aisakaaoi.github.io/9dca7274/41.webp"><meta property="og:image" content="https://aisakaaoi.github.io/9dca7274/42.webp"><meta property="og:image" content="https://aisakaaoi.github.io/9dca7274/43.webp"><meta property="og:image" content="https://aisakaaoi.github.io/9dca7274/44.webp"><meta property="og:image" content="https://aisakaaoi.github.io/9dca7274/45.webp"><meta property="article:published_time" content="2023-01-03T22:36:42.000Z"><meta property="article:modified_time" content="2026-01-23T11:02:48.188Z"><meta property="article:author" content="Aisaka Aoi"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://aisakaaoi.github.io/9dca7274/1.webp"><link rel="canonical" href="https://aisakaaoi.github.io/9dca7274.html"><script id="page-configurations">CONFIG.page={sidebar:"",isHome:!1,isPost:!0,lang:"zh-CN"}</script><title>数学基础-KKT条件，原来如此简单 | 理论+算例实践 | 逢坂葵的个人博客</title><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script"),t=(e.src="https://hm.baidu.com/hm.js?7308ed05421777c301eefa3754da1b42",document.getElementsByTagName("script")[0]);t.parentNode.insertBefore(e,t)}()</script><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-header,.use-motion .comments,.use-motion .menu-item,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript><link rel="alternate" href="/atom.xml" title="逢坂葵的个人博客" type="application/atom+xml"></head><body itemscope itemtype="http://schema.org/WebPage"><div class="container use-motion"><div class="headband"></div><header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-container"><div class="site-nav-toggle"><div class="toggle" aria-label="切换导航栏"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div></div><div class="site-meta"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span><h1 class="site-title">aoi学院</h1><span class="logo-line-after"><i></i></span></a><p class="site-subtitle" itemprop="description">Aisaka's Blog, School of Aoi, Aisaka University</p></div><div class="site-nav-right"><div class="toggle popup-trigger"><i class="fa fa-search fa-fw fa-lg"></i></div></div></div><nav class="site-nav"><ul id="menu" class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类<span class="badge">20</span></a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档<span class="badge">1023</span></a></li><li class="menu-item menu-item-search"><a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索</a></li></ul></nav><div class="search-pop-overlay"><div class="popup search-popup"><div class="search-header"><span class="search-icon"><i class="fa fa-search"></i></span><div class="search-input-container"><input autocomplete="off" autocapitalize="off" placeholder="搜索..." spellcheck="false" type="search" class="search-input"></div><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span></div><div id="search-result"><div id="no-result"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div></div></div></div></header><div class="reading-progress-bar"></div><a href="https://github.com/AisakaAoi" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><main class="main"><div class="main-inner"><div class="content-wrap"><div class="content post posts-expand"><article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://aisakaaoi.github.io/9dca7274.html"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/manatsu.jpg"><meta itemprop="name" content="Aisaka Aoi"><meta itemprop="description" content="Aisaka's Blog, School of Aoi, Aisaka University"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="逢坂葵的个人博客"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">数学基础-KKT条件，原来如此简单 | 理论+算例实践</h1><div class="post-meta"><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-calendar"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2023-01-04 06:36:42" itemprop="dateCreated datePublished" datetime="2023-01-04T06:36:42+08:00">2023-01-04</time> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-folder"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%F0%9F%8C%99%E5%A4%A7%E5%AD%A6%E8%AF%BE%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">🌙大学课程</span></a> </span></span><span id="/9dca7274.html" class="post-meta-item leancloud_visitors" data-flag-title="数学基础-KKT条件，原来如此简单 | 理论+算例实践" title="阅读次数"><span class="post-meta-item-icon"><i class="fa fa-eye"></i> </span><span class="post-meta-item-text">阅读次数：</span> <span class="leancloud-visitors-count"></span> </span><span class="post-meta-item"><span class="post-meta-item-icon"><i class="far fa-comment"></i> </span><span class="post-meta-item-text">Valine：</span> <a title="valine" href="/9dca7274.html#valine-comments" itemprop="discussionUrl"><span class="post-comments-count valine-comment-count" data-xid="/9dca7274.html" itemprop="commentCount"></span></a></span><br><span class="post-meta-item" title="本文字数"><span class="post-meta-item-icon"><i class="far fa-file-word"></i> </span><span class="post-meta-item-text">本文字数：</span> <span>14k</span> </span><span class="post-meta-item" title="阅读时长"><span class="post-meta-item-icon"><i class="far fa-clock"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span>34 分钟</span></span></div></header><div class="post-body" itemprop="articleBody"><h3 id="什么是KKT"><a href="#什么是KKT" class="headerlink" title="什么是KKT"></a>什么是KKT</h3><p><strong>KKT条件（Karush Kuhn Tucker conditions）</strong>是最优化（特别是<strong>非线性规划</strong>）领域最重要的成果之一，是<strong>判断某点是极值点</strong>的必要条件。</p><p>可理解好它需要用到<strong>梯度、松弛变量、对偶理论等</strong>知识，想讲好<strong>KKT条件</strong>是具有一定难度的。</p><p>本文第一部分侧重于<strong>理论部分</strong>，第二部分给出<strong>运用KKT条件</strong>进行<strong>数值和符号运算的Matlab代码</strong>。基于此，大家可以非常方便地应用于自己的<strong>论文写作</strong>。</p><p>在介绍KKT条件之前，先补充些<strong>基础知识</strong>。</p><span id="more"></span><hr><h4 id="何谓最优化问题"><a href="#何谓最优化问题" class="headerlink" title="何谓最优化问题"></a>何谓最优化问题</h4><blockquote><p><strong>要选择一组参数（变量），在满足一定的限制条件（约束）下，使设计指标（目标）达到最优值。</strong></p></blockquote><p>根据定义，<a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MzIxMDY1OTk1OA==&mid=2247483878&idx=1&sn=9c862202b8dbb9ce9baa953bfcd838ef">古诺模型</a>和<a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MzIxMDY1OTk1OA==&mid=2247483899&idx=1&sn=0f37e20c05a6fe0aecb4d24b440a3f19">Stackelberg模型</a>是最优化问题，只不过它们<strong>均没有约束</strong>，直接对<strong>决策变量求导</strong>便能得到<strong>最优值</strong>。</p><p>进一步，根据<strong>有无约束</strong>以及<strong>约束特征</strong>，可以将最优化问题<strong>分为以下三类</strong>，每类问题的<strong>求解方法</strong>也紧跟着列出。</p><hr><h4 id="最优化问题分类"><a href="#最优化问题分类" class="headerlink" title="最优化问题分类"></a>最优化问题分类</h4><blockquote><p><strong>无约束</strong>优化问题：直接求导、最速下降法、共轭梯度法、牛顿法等；<br><strong>等式约束</strong>优化问题：拉格朗日(Lagrange)乘数法；<br><strong>不等式约束</strong>优化问题：KKT条件。</p></blockquote><p><strong>大家做科研时也要分清楚自己的问题属于哪一类，然后运用对应的求解方法。</strong></p><p>以上知识点在本科的《运筹学》和《高等数学》课程中均学过。<strong>前两类</strong>相对简单，至于<strong>KKT条件</strong>，大家会被课本上复杂的数学公式<strong>劝退</strong>，即使考前重温，过段时间又会忘。</p><p>所以，本文不先从那些复杂公式入手，而是以我的理解，带大家一起探索下<strong>Karush–Kuhn–Tucker</strong>这三个人，是<strong>如何发现并总结出KKT条件</strong>的。</p><hr><hr><h3 id="KKT条件理论部分"><a href="#KKT条件理论部分" class="headerlink" title="KKT条件理论部分"></a>KKT条件理论部分</h3><p>该部分先介绍KKT条件的<strong>核心思想</strong>，即<strong>λg(X*)&#x3D;0</strong>公式的由来；再解释为什么课本上的<strong>数学公式长那样</strong>，最后再针对性地给出一些<strong>补充说明</strong>和<strong>数学证明</strong>。</p><hr><h4 id="KKT条件核心思想"><a href="#KKT条件核心思想" class="headerlink" title="KKT条件核心思想"></a>KKT条件核心思想</h4><p>时光倒流，假设你是还没提出KKT条件的Karush本人，面对不等式约束优化问题，会如何思考呢？</p><p>先观察下仅含有一个不等式约束的优化问题：</p><img src="/9dca7274/1.webp"><blockquote><p>注：如果是最大化问题，即maxf(X)，约束改写为<strong>g(X*)≥0</strong>的形式（原因后文会解释）。</p></blockquote><p>既然默认<strong>还不知道KKT条件</strong>，所以目前咱们还不会解决该问题。但不急，想想咱们会啥？会<strong>求求导数</strong>，同时也会等式约束下的<strong>拉格朗日乘数法</strong>啊。</p><p>一步步来，先对f(X)函数求导吧（<strong>若X多维则是求梯度</strong>），即<strong>先不考虑g(X)≤0这个约束</strong>。</p><p>毕竟求导或求梯度，Karush和你都是<strong>会的</strong>。此时会得到“使f(X)取最小值时的<strong>最优X</strong>”，进一步，如果将其值X*带入约束g(X)，无非就以下三种情况。</p><blockquote><p>（1）g(X*)&lt;0</p></blockquote><p>那正好满足约束，<strong>X</strong>就是我们要找的<strong>最优解</strong>。</p><p>猛然发现，此时该约束完全<strong>不起作用</strong>啊(称为<strong>不起作用约束</strong>)，毕竟我们计算X*时压根都没考虑它。</p><blockquote><p>（2）g(X*)&#x3D;0</p></blockquote><p>也就是最优解X*正好也让约束<strong>取了等号</strong>。</p><p>这咱们也熟啊，这不转化为含有<strong>等式约束</strong>的优化问题了嘛。如何求解？<strong>拉格朗日乘数法</strong>啊，安排~</p><blockquote><p>（3）g(X*)&gt;0</p></blockquote><p>显然此时的X*不满足约束，应<strong>舍弃</strong>。</p><p>但这并没有结束，我们需要<strong>给出一个解</strong>，那此时大家觉得X*会在哪？很简单，无非又变回了情形（1）或（2）。</p><p>综上，我们只需要分情况讨论清楚<em><em>若g(X</em>)&lt;0和若g(X</em>)&#x3D;0时，应该如何求解即可**。</p><p>一通分析下来，大家或许此时感觉自己好像<strong>已经会了</strong>，不就是：</p><blockquote><p><strong>若g(X*)&lt;0</strong>，约束不起作用，该问题转化为<strong>无约束优化问题</strong>求解；<br><strong>若g(X*)&#x3D;0</strong>，引入拉格朗日乘子λ，采用<strong>拉格朗日乘数法</strong>求解嘛，其间，构造的<strong>拉格朗日函数</strong>如下（这是拉格朗日乘数法的知识，不了解的同学可以自行简单重温下）。</p></blockquote><img src="/9dca7274/2.webp"><p>理确实这么个理，但人家数学家追求的是<strong>能否有个统一的形式来求解？</strong>这样<strong>分类讨论</strong>可不那么高大上啊。</p><p>既然都已经引进<strong>拉格朗日乘子λ</strong>了，那也得想办法使得在<strong>g(X*)&lt;0</strong>情形下，也要与<strong>λ</strong>有点关系。</p><p>考虑到<strong>若g(X*)&lt;0</strong>，此时该约束不起作用，而已经构造好的<strong>拉格朗日函数</strong>中又有<strong>λ</strong>，怎么办？</p><p>很简单，<strong>让拉格朗日函数中的λ&#x3D;0即可！</strong>此时<strong>拉格朗日函数</strong>可不就简化为L(x, λ)&#x3D;f(X)了嘛。此时对L(x, λ)求导（等价于对f(X)求导）时既不用管<strong>约束</strong>，也没有<strong>λ的干扰</strong>，简直完美。</p><p>汇总一下就是：</p><blockquote><p>（1）<strong>若g(X*)&#x3D;0，引入拉格朗日乘子λ，并要求λ≥0；</strong><br>（2）<strong>若g(X*)&lt;0，要求λ&#x3D;0。</strong></p></blockquote><p>那怎么统一呢？数学家灵魂附体！脑袋一拍，<strong>含泪发现</strong>，这不就可以采用<strong>λg(X*)&#x3D;0</strong>的形式统一了嘛。</p><p>恭喜你，你代替<strong>Karush本人提出了λg(X*)&#x3D;0！</strong>而这，就是KKT条件的<strong>精髓</strong>。</p><p>是不是有点难以置信，但确实，KKT条件的<strong>核心思想和公式</strong>其实已经<strong>讲完了</strong>。</p><p>不复杂吧，基础思想确实是很简单的，毕竟早在1939年，Karush在其<strong>硕士学位论文</strong>里就已经给出了KKT条件。硕士生啊，哎，差距。</p><hr><h4 id="KKT条件的数学公式"><a href="#KKT条件的数学公式" class="headerlink" title="KKT条件的数学公式"></a>KKT条件的数学公式</h4><p><strong>掌握了思想</strong>，便可以更好地看懂课本上的公式了。</p><p>还是由简到难，先给出仅含有<strong>一个不等式约束</strong>的<strong>KKT条件</strong>。</p><img src="/9dca7274/3.webp"><p>这里还需要<strong>借助</strong>上一部分给出的<strong>拉格朗日函数</strong>来理解。</p><img src="/9dca7274/4.webp"><p>简单分析**公式(1)-(4)**可知：</p><blockquote><p>式(1)：对拉格朗日函数求梯度(若X一维就是求导)，其中，下三角表示梯度；<br>式(2)：核心公式，要么λ&#x3D;0，要么g(X*)&#x3D;0（此处要求两者不能同时为0）；<br>式(3)：拉格朗日乘子λ必须是正的（下一部分的图示法有证明）；<br>式(4)：原问题自己的约束。</p></blockquote><p>可见，式(1)和(2)都是<strong>等式</strong>，可以帮助我们求<strong>最优X*和λ</strong>，因为式(2)要<strong>分类讨论</strong>，所以可能存在<strong>多个X*和λ</strong>；式(3)和(4)主要起<strong>验证作用</strong>，帮助我们排除掉一些<strong>不满足</strong>式(3)和(4)的<strong>X*和λ</strong>。</p><p>具体地，在<strong>应用KKT条件计算</strong>时，通常也是<strong>分类讨论</strong>后先求解<strong>X*和λ</strong>，再<strong>验证</strong>其是否满足式(3)和(4)，从而排除一些解。</p><p>像上述仅含有<strong>一个约束</strong>的例子，只需要<strong>分两类</strong>，通常是以<strong>拉格朗日乘子λ是否为0</strong>进行分类：</p><blockquote><p>(1) 当 λ&#x3D;0 时，<strong>计算</strong>X*的值，并验证g(X*)≤0是否成立；<br>(2) 当 λ≠0 时，<strong>计算</strong>X*和λ的值，并验证g(X*)≤0和λ≥0是否成立。</p></blockquote><p>下面，将KKT条件推广至含有多个等式约束和不等式约束的情况。也是课本上给初次学习KKT条件的同学提供的公式，劝退了好多人。</p><p>考虑的最优化问题为：</p><img src="/9dca7274/5.webp"><p>此时定义的<strong>拉格朗日函数</strong>为：</p><img src="/9dca7274/6.webp"><p>其中，**{λi}<strong>指的是一系列的λ（有m个），同理</strong>{μj}**也是。由于是多个约束，因此引入求和号∑。</p><p>其对应的<strong>KKT条件</strong>为：</p><img src="/9dca7274/7.webp"><p>不要被上述形式吓到了，解题思路与之前叙述<strong>类似</strong>，就是用<strong>几个等式计算</strong>最优值，用<strong>不等式验证</strong>这些值，不满足则排除。</p><p>即，<strong>利用式(1)(2)(3)求最优X*和λi</strong>，然后<strong>通过式(4)和(5)验证这些解是否可行</strong>，“可行”指的是这些解是否能让(4)和(5)的不等号成立，不成立则<strong>排除</strong>。注意，μj是可以取任意值的，不受限制。因为它们是<strong>等式约束</strong>的拉格朗日乘子，不是不等式的乘子。</p><p>由于该问题有<strong>m个不等式约束</strong>，每个<strong>约束</strong>对应的<strong>拉格朗日&#x2F;KKT乘子λi</strong>都可以<strong>“&#x3D;0”或“≠0”</strong>。因此，需要分类讨论的情况有<strong>2^m</strong>种。</p><p>分类详情如下：(1) 当λ1&#x3D;0，λ2≠0，……，λm≠0时；(2) 当λ1&#x3D;0，λ2&#x3D;0，……，λm≠0时；……在此，不再展开，<strong>本文第四部分</strong>会给出<strong>算例</strong>来做具体说明。</p><p>至此，从特殊到一般的KKT条件讲解完毕，总结一下，当我们<strong>应用KKT条件求解算例</strong>时，可以采用如下思路：</p><blockquote><p>能解出最优解的一定是等式，故式(1)(2)(3)帮我们求最优解；<br>式(4)和式(5)是不等式，帮我们排除一些解，或者得到最优解的适用范围。</p></blockquote><p>这里有必要解释下<strong>“得到最优解的适用范围”</strong>这句话。其主要针对<strong>符号运算</strong>的情形，看完<strong>第四部分的算例</strong>，会有更深的理解，这里仅作为引子简单提一下：</p><blockquote><p>大家在写论文时，建立的数学模型多是用<strong>参数和变量</strong>表示的，不同情形下的最优解也是<strong>符号表达式</strong>，因此<strong>很难比较大小</strong>。<br>此时，只能通过式(4)和(5)，来得到<strong>在什么条件（某符号表达式满足某条件）下，最优解X*和对应的f(X*)值为多少</strong>，即需要<strong>分类讨论</strong>。</p></blockquote><p>具体如何应用上述理论<strong>求解具体的算例</strong>，并撰写Matlab代码，放在第四部分讲解，本部分着重讲解<strong>理论</strong>。</p><hr><hr><h3 id="KKT条件补充说明"><a href="#KKT条件补充说明" class="headerlink" title="KKT条件补充说明"></a>KKT条件补充说明</h3><p>该部分主要强调KKT条件的<strong>适用范围</strong>和<strong>部分理论的数学证明</strong>。</p><hr><h4 id="充分性、必要性说明"><a href="#充分性、必要性说明" class="headerlink" title="充分性、必要性说明"></a>充分性、必要性说明</h4><p>首先强调的是，KKT条件是判断某点是极值点的<strong>必要条件，不是充分条件</strong>。换句话说，<strong>最优解一定满足KKT条件，但KKT条件的解不一定是最优解</strong>。</p><p>对于<strong>凸规划</strong>，KKT条件就是<strong>充要条件</strong>了，只要满足KKT条件，则一定是极值点，且得到的一定还是<strong>全局最优解</strong>。</p><blockquote><p><strong>凸规划</strong>指的是：目标函数为<strong>凸函数</strong>，不等式约束函数也为<strong>凸函数</strong>，等式约束函数是<strong>仿射</strong>的（理解成是<strong>线性的</strong>也行）。这牵扯到另一个领域了，本文不再展开陈述。</p></blockquote><p><strong>补充：</strong>我知道很多同学会问，目标函数是凹函数就不能解了？并不是的，凸规划&#x2F;凸优化只研究<strong>凸函数的最小化问题</strong>，并且认为凹函数的最大化问题是与它<strong>等价的</strong>。毕竟凹函数只需加个负号就是凸函数了，所以在研究问题中，就不再提凹函数了。</p><hr><h4 id="Min-x2F-Max与“≤0”和“≥0”的规定"><a href="#Min-x2F-Max与“≤0”和“≥0”的规定" class="headerlink" title="Min&#x2F;Max与“≤0”和“≥0”的规定"></a>Min&#x2F;Max与“≤0”和“≥0”的规定</h4><p>这里指的是（<strong>该部分也是本文的重点部分，划重点</strong>）：</p><blockquote><p>（1）如果目标为最小化（Min）问题，那么不等式约束需要整理成“≤0”的形式；<br>（2）如果目标为最大化（Max）问题，那么不等式约束需要整理成“≥0”的形式；</p></blockquote><p>以仅含有<strong>一个不等式约束</strong>的情形为例，<strong>最小化和最大化</strong>的优化问题要整理成如下<strong>形式</strong>：</p><img src="/9dca7274/8.webp"><p><strong>该形式</strong>可以死记硬背，但时间一长，大家可能会<strong>忘记或记混</strong>了，下面，采用<strong>图示法</strong>逐步展示为什么会有这个要求，该分析过程也展现了KTT条件的<strong>几何思想</strong>。</p><img src="/9dca7274/9.webp"><p>上图画出了3条f(X)函数的<strong>等值线(图中虚线)<strong>，以及右下角为</strong>可行域S</strong>（即约束条件规定的区域）和<strong>g(X)&#x3D;0</strong>的曲线，最优解为**X***。基于此，具体分析如下：</p><blockquote><p><strong>（1）f(X)函数值下降方向为左上方：</strong><br>目标是<strong>最小化问题</strong>，若下降方向为右下方，则最优解（图中X*）一定不是在g(X)&#x3D;0上，而是在可行域S内部</p></blockquote><p>由于KKT条件中第一条就需要计算f(X)和g(X)函数的<strong>梯度</strong>，所以，这里补充一个基础知识：<strong>梯度方向垂直于函数等值线，指向函数值增长的方向</strong>。</p><p>基于此，我们尝试画出<strong>f(X)和g(X)函数的梯度方向</strong>：</p><blockquote><p><strong>（2）画出f(X)的梯度方向（下图红色方向）：</strong><br>梯度方向是函数值增长的方向，因此指向右下方；负梯度方向是函数值下降的方向，指向左上方；<br><strong>（3）画出g(X)的梯度方向（下图蓝色方向）：</strong><br>由于曲线是g(X)&#x3D;0，右下方是g(X)&lt;0，是在下降，因此，g(X)函数值增长的方向就是左上方了。</p></blockquote><img src="/9dca7274/10.webp"><p>由上述分析和上图可知，在最优解X*处，<strong>f(X*)和g(X*)的梯度方向</strong>共线且方向相反。<strong>向量共线且方向相反</strong>在数学上的写法就是：</p><p><strong>负梯度向量是另一个梯度向量的λ倍。</strong>移项后发现，这不就是<strong>KKT条件的第一个等式</strong>嘛！</p><img src="/9dca7274/11.webp"><p>同时可知，λ的值只能取<strong>正值</strong>，因为<strong>g(X)的梯度方向与f(X)负梯度方向</strong>相同。这也是KKT条件要求 <strong>λ≥0</strong> 的原因。</p><blockquote><p><strong>基于以上分析可知：最小化问题的约束条件应该整理成“≤0”的形式，且λ≥0。</strong></p></blockquote><p>同理，最大化的分析不再展开，仅给出分析图，有兴趣的同学可以自己动手分析一下。</p><img src="/9dca7274/12.webp"><p>补充一点，对于<strong>最大化问题</strong>，如果可行域也<strong>非要写成g(X)≤0</strong>的形式，<strong>能行吗？</strong>先别忙着否定，我们分析一下。</p><p>此时g(X*)的梯度方向就不再是右下方了（不是上图了），而是<strong>f(X*)与g(X*)的梯度方向相同</strong>，有：</p><img src="/9dca7274/13.webp"><p>此时如上图，<strong>要么</strong>KKT条件第一项改为<strong>“作差”</strong>，<strong>要么</strong>让<strong>λ&lt;0</strong>。无论哪一个，其实都是<strong>徒增烦恼</strong>。不如上来就规定约束写成<strong>g(X)≥0</strong>来的方便。</p><blockquote><p><strong>因此，最大化问题的约束条件应该整理成“≥0”的形式，且λ≥0。</strong></p></blockquote><p>下面推广到<strong>多约束条件</strong>的情形，仅是把<strong>梯度的共线</strong>变为<strong>梯度的线性组合</strong>，若不好理解，可跳过。</p><p>假设有<strong>起作用约束g1(X)和起作用约束g2(X)<strong>共同影响</strong>目标函数f(X)的梯度</strong>，又是怎么样的图形呢？</p><img src="/9dca7274/14.webp"><p>我们分别画出g1(X)函数在X*处的梯度，如图中<strong>蓝色向量</strong>，其垂直于曲线g1(X*)&#x3D;0；同理，画出g2(X)函数在X*处的梯度，是另一个<strong>蓝色向量</strong>。</p><p>至于f(X)函数的梯度，图中画出<strong>负梯度方向</strong>（函数值下降的方向），这样画的好处是可以直观地看出三个梯度向量间的关系：</p><blockquote><p><strong>f函数的负梯度可以表示成g1函数和g2函数梯度的线性组合。则有如下公式：</strong></p></blockquote><img src="/9dca7274/15.webp"><p>简单移项后，又发现了我们的老朋友：<strong>KKT条件的第一个等式</strong>。从图中也可以看出，梯度向量之间的夹角为<strong>锐角</strong>，因此也有<strong>λ1≥0，λ2≥0</strong>的要求。</p><p>看完这部分内容，相信大家对于课本上关于KKT条件的的<strong>数学公式和图形</strong>，能记忆也能自己推导了。</p><hr><h4 id="正则性条件-x2F-约束规范说明"><a href="#正则性条件-x2F-约束规范说明" class="headerlink" title="正则性条件&#x2F;约束规范说明"></a>正则性条件&#x2F;约束规范说明</h4><p>KKT条件对于<strong>目标函数</strong>和<strong>约束函数</strong>也是有<strong>要求</strong>的。该部分数学性较强，不好理解可跳过。</p><p><strong>目标函数和约束函数（f、g1、… 、gm、h1、… 、hn函数）均为连续可微函数。</strong></p><p>上述是我们熟知的要求，事实上，并<strong>不完全正确（严谨）</strong>，还缺少一个<strong>regularity条件</strong>（也被成为<strong>正则性条件</strong>或者<strong>约束规范</strong>（constraint qualification））。</p><p>其含义指：<strong>以下方程组是线性独立的。</strong></p><img src="/9dca7274/16.webp"><p>其中，I(X*)指的是<strong>起作用约束</strong>的集合。</p><p>这里不再深入展开，具体算例可参见B站视频<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1LF411i768/">《KKT条件为什么用不了了》</a>：</p><iframe src="//player.bilibili.com/player.html?aid=295196252&bvid=BV1LF411i768&cid=470437975&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen></iframe><hr><h4 id="几类非光滑函数的转化"><a href="#几类非光滑函数的转化" class="headerlink" title="几类非光滑函数的转化"></a>几类非光滑函数的转化</h4><p>上一节指出，运用KKT条件时，要求函数<strong>连续可微</strong>。可有些函数很常见，但却存在不可微的点，此时就可以想办法转化下。</p><blockquote><p><strong>（1）目标函数：f(x) &#x3D; max(x, x^2)</strong></p></blockquote><p><strong>即目标函数f(x)存在不可微点</strong>：简单画图可知，该函数在 (0, 0) 点和 (1, 1) 点处不可微。此时可以引入变量y，进行如下转化。</p><img src="/9dca7274/17.webp"><p>强调一下，虽然这个看着简单，但其实应用挺广，比如对如下k个线性函数求最大。</p><img src="/9dca7274/18.webp"><blockquote><p><strong>（2）约束条件：g(x) &#x3D; |x1| + |x2| ≤ 1</strong></p></blockquote><p><strong>即约束条件g(x)存在不可微点</strong>：我们知道，绝对值函数的含义为 |x| &#x3D; max(x, -x)。而g(x)中有两个绝对值，故可以如下转化。</p><img src="/9dca7274/19.webp"><p>可见，g(x)函数转化成了四个约束，<strong>四个约束都是线性</strong>，就可以用KKT条件了。当然，对于这种简单的形式，画图求解也许会更方便。</p><p>总的来说，绝对值函数的线性化较为简单，而更多的<strong>线性化方法&#x2F;技巧</strong>，可以参见<a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MzIxMDY1OTk1OA==&mid=2247483794&idx=1&sn=670cdfa59d9b07c2e64f2bbc77057b91">常见的线性化方法&#x2F;技巧（上）</a>和<a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MzIxMDY1OTk1OA==&mid=2247483819&idx=1&sn=606e949de5efea55eb310ef997379cb5">常见的线性化方法&#x2F;技巧（下）</a>或者<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/552076713">令人拍案叫绝的线性化方法&#x2F;技巧</a>。</p><hr><h4 id="KKT条件与KT条件"><a href="#KKT条件与KT条件" class="headerlink" title="KKT条件与KT条件"></a>KKT条件与KT条件</h4><p>1951年，Kuhn和Tucker发现了KKT条件并撰写了论文将其正式发表出来，当然，此时他们不知道另一个K是谁，故命名为Kuhn-Tucker（库恩塔克）条件，也就是KT条件。</p><p>很快，他们的成果引起了很多很多学者的重视。树大招风，其中一些学者发现早在1939年，Karush在其<strong>硕士学位论文</strong>里边已经给出了KKT条件，只是当时没有引起广泛关注而已。</p><p>不过，后来大家都承认Kuhn，Tucker，Karush三位都是<strong>独立发现KKT条件</strong>的学者。故此后命名多加了个K。</p><hr><hr><h3 id="数值与符号运算（重点）"><a href="#数值与符号运算（重点）" class="headerlink" title="数值与符号运算（重点）"></a>数值与符号运算（重点）</h3><p>简单回顾下KKT条件：</p><img src="/9dca7274/20.webp"><p>还记得解题思路吗？</p><blockquote><p>能解出最优解的一定是等式，故式(1-3)帮我们求最优解；<br>式(4-5)是不等式，帮我们排除一些解，或者得到最优解的适用范围。</p></blockquote><p>这也是口诀<strong>“等式求最优，不等式验证”</strong>的由来。</p><p>下面，我们来看下<strong>数值&#x2F;符号运算</strong>中，KKT条件是如何求解最优化问题的。数值计算例子为求解<strong>最小化问题</strong>，符号运算例子为求解<strong>最大化问题</strong>。</p><p>先看下课本上的例题，是如何应用KKT条件进行<strong>数值计算</strong>的。</p><hr><h4 id="数值计算实操"><a href="#数值计算实操" class="headerlink" title="数值计算实操"></a>数值计算实操</h4><p>我们想用<strong>KKT条件</strong>求解如下<strong>非线性最优化问题</strong>：</p><img src="/9dca7274/21.webp"><p>观察约束，发现有<strong>“≥0”</strong>的形式，由本文第二三部分可知，需要统一转化为<strong>“≤0”</strong>的形式，故上述问题的<strong>标准形式</strong>为：</p><img src="/9dca7274/22.webp"><p>基于该标准形式，构造的<strong>拉格朗日函数</strong>为：</p><img src="/9dca7274/23.webp"><p>对其中的x1和x2分别求导，得到如下<strong>两等式</strong>：</p><img src="/9dca7274/24.webp"><p>有些同学习惯用<strong>梯度</strong>表示，也可以，<strong>两种方法一致</strong>，看大家熟悉哪种了：</p><img src="/9dca7274/25.webp"><p>数一下，有<strong>四个未知数</strong>，但求导后只有<strong>两个等式方程</strong>，显然还<strong>无法求解</strong>，此时KKT条件的核心公式**λigi&#x3D;0(i&#x3D;1,2)**就派上用场了。</p><p><strong>λigi&#x3D;0（两者不同时为0）+ KKT条件中的不等式</strong>，具体含义为：</p><blockquote><p>（1）若λ1&#x3D;λ2&#x3D;0，则g1&lt;0，g2&lt;0；<br>（2）若λ1&#x3D;0，λ2&gt;0，则g1&lt;0，g2&#x3D;0；<br>（3）若λ1&gt;0，λ2&#x3D;0，则g1&#x3D;0，g2&lt;0；<br>（4）若λ1&gt;0，λ2&gt;0，则g1&#x3D;0，g2&#x3D;0；</p></blockquote><p>仔细观察上述每一种情形，均包含了<strong>两个等式方程</strong>，加上之前求导得到的<strong>两个方程</strong>，总共<strong>四个方程</strong>，这回就可以求解<strong>四个未知数</strong>了。</p><p>那还等啥，直接求解吧。</p><p><strong>（i）若λ1&#x3D;λ2&#x3D;0，则g1&lt;0, g2&lt;0</strong></p><p>无论哪种情形，主要是求解上面写的<strong>求导后的&#x2F;梯度方程</strong>，即：</p><img src="/9dca7274/26.webp"><p>若λ1&#x3D;λ2&#x3D;0，则只需要求解x1，x2即可：</p><img src="/9dca7274/27.webp"><p>那x1&#x3D;2，x2&#x3D;1就是其中的一个解了吗？</p><p>赶紧背下口诀<strong>“等式求最优，不等式验证”</strong>！奥，原来还得验证下该解是否满足<strong>不等式g1&lt;0和g2&lt;0</strong>。</p><p>将x1&#x3D;2, x2&#x3D;1带入g1和g2，有：</p><img src="/9dca7274/28.webp"><p>很遗憾，两个式子都无法使得 <strong>g1&lt;0 和 g2&lt;0</strong>，故只能舍弃该解。</p><p><strong>此情形其实已经变为无约束问题</strong>（直接对f(X)求导后得到的解），然而它并不满足约束，只能舍弃。</p><p>同时也说明，最优解一定会在<strong>某个约束的边界上</strong>。那就继续吧，看看是在g1&#x3D;0，还是g2&#x3D;0，还是g1&#x3D;g2&#x3D;0的边界上。</p><p><strong>（ii）若λ1&#x3D;0, λ2&gt;0，则g1＜0, g2&#x3D;0</strong></p><p>除了两个求导后的方程，此情形多的两个方程分别为λ1&#x3D;0和g2&#x3D;0，故累计又有四个方程，求解有：</p><img src="/9dca7274/29.webp"><p>此时显然已经有λ2&gt;0，故仅还需验证<strong>“g1＜0”</strong>。</p><img src="/9dca7274/30.webp"><p>很可惜，不满足g1＜0，故此解还是需要<strong>舍弃</strong>。</p><p><strong>（iii）若λ1&gt;0, λ2&#x3D;0，则g1&#x3D;0, g2&lt;0</strong></p><p>同2，也是<strong>四个方程，求解四个未知数</strong>，有：</p><img src="/9dca7274/31.webp"><p>发现此解与情形1的解一样（仅是这个例子一样，一般不会一样），但带入g2函数时，有：</p><img src="/9dca7274/32.webp"><p>很可惜，依然不能使得g2&lt;0，故该解还是需要<strong>舍弃</strong>。</p><p><strong>（iv）若λ1&gt;0, λ2&gt;0，则g1&#x3D;0, g2&#x3D;0</strong></p><p>此时，最优解在g1和g2函数的边界上，联立的四个方程为：</p><img src="/9dca7274/33.webp"><p>非常好，此时的λ1&gt;0，λ2&gt;0，满足KKT条件，故x1&#x3D;1, x2&#x3D;2是本题的<strong>最优解</strong>。</p><p><strong>补充：</strong>一般四个方程，我是不会去手算的，编个简单的Matlab代码，就能快速求解：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">syms x1 x2 t1 t2  <span class="comment">% t1,t2分别指λ1,λ2</span></span><br><span class="line">equ1 = <span class="number">2</span>*x1 - <span class="number">4</span> + t1 - t2;  <span class="comment">% 将上述四个方程对照着抄一下</span></span><br><span class="line">equ2 = <span class="number">4</span>*x2 - <span class="number">4</span> + t1 - <span class="number">2</span>*t2;  <span class="comment">% 注意打上*，新手特别容易忘记</span></span><br><span class="line">equ3 = x1 + x2 - <span class="number">3</span>;</span><br><span class="line">equ4 = <span class="number">5</span> - x1 - <span class="number">2</span>*x2;</span><br><span class="line">[x1,x2,t1,t2] = solve([equ1 equ2 equ3 equ4], [x1 x2 t1 t2])</span><br></pre></td></tr></table></figure><p>其中，因为Matlab中不方便打λ，所以我一般用t来代替，同时解四个方程用“[]”框起来，四个变量也用“[]”框起来。“[]”在Matlab中一般用来表示<strong>数组或矩阵</strong>。solve函数就是<strong>解方程</strong>用的。</p><p>综上，<strong>x1&#x3D;1, x2&#x3D;2</strong>是本题的<strong>最优解</strong>。</p><hr><h4 id="符号运算实操"><a href="#符号运算实操" class="headerlink" title="符号运算实操"></a>符号运算实操</h4><p>下面，实操下科研中遇到<strong>有不等式约束的极值问题</strong>时，该如何<strong>利用KKT条件</strong>，并采用Matlab来<strong>编码求解</strong>。算例如下：</p><blockquote><p><strong>无约束定价问题：</strong><br>若企业生产成本为c的产品，市场<strong>需求函数为D &#x3D; a - bp (a, b 是参数，p为价格)<strong>，那企业的最优定价</strong>p</strong>为多少？</p></blockquote><p>上面这个算例是无约束的，简单地再编两个约束吧，变为有不等式约束的问题：</p><blockquote><p><strong>有不等式约束的定价问题：</strong><br><strong>约束1（针对需求）：</strong>假定需求量小于外生变量S；<br><strong>约束2（针对价格）：</strong>企业规定价格不能低于m*c（m&gt;1）；</p></blockquote><p>则在这两个约束下，企业<strong>如何定价</strong>才能使<strong>利润最大</strong>？</p><p>先给出<strong>无约束问题</strong>下的解，决策最优定价p；再给出<strong>含有两个不等式约束</strong>的最优定价决策。</p><p><strong>（i）无约束定价问题</strong></p><p>此种情形较为简单，就是对利润函数（为<strong>二次函数</strong>）求最优值：</p><img src="/9dca7274/34.webp"><p>具体的Matlab计算代码如下：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">clear</span><br><span class="line">syms a b c p</span><br><span class="line">Pi = (p - c)*(a - b*p);</span><br><span class="line">equ = diff(Pi, p);  <span class="comment">% 对利润函数Pi中的p求导</span></span><br><span class="line">Op_p = solve(equ, p);  <span class="comment">% 求解方程equ=0中的p，命名为Op_p</span></span><br><span class="line">Op_D = simplify(a - b*Op_p);  <span class="comment">% 反代回需求函数，并化简</span></span><br></pre></td></tr></table></figure><p>其中牵扯到的<strong>diff()、solve()、simplify()以及后面会提及的subs()函数</strong>，含义分别为<strong>求导、解方程、化简、替换</strong>。</p><p><strong>（ii）有不等式约束的定价问题</strong></p><p>这里新增了两个约束：<br><strong>约束1(针对需求)：</strong>假定需求量小于外生变量S：</p><img src="/9dca7274/35.webp"><p><strong>约束2(针对价格)：</strong>企业规定价格不能低于m*c（m&gt;1）：</p><img src="/9dca7274/36.webp"><p>综上，我们有如下优化问题（<strong>写成最大化问题的标准形式</strong>）：</p><img src="/9dca7274/37.webp"><p><strong>注意</strong>，这里与<strong>数值算例的最小化问题</strong>不同，该问题是<strong>最大化问题</strong>，因此需将约束全部转化为<strong>“≥0”</strong>的形式，并命名为<strong>g1、g2</strong>。</p><p>还记得第一步是什么吗？基于<strong>标准形式</strong>，构造<strong>拉格朗日函数</strong>：</p><img src="/9dca7274/38.webp"><p>决策变量只有<strong>p</strong>，故仅<strong>对p求导</strong>即可：</p><img src="/9dca7274/39.webp"><p>显然，这里仅有<strong>一个方程</strong>，要解出p、λ1、λ2<strong>三个未知数</strong>是不可能的，还需要<strong>两个等式方程</strong>。而<strong>KKT条件</strong>就是用来给出<strong>剩下的两个等式方程</strong>的。</p><p>这里附上上述过程的Matlab代码（为方便敲代码，依旧用t来代替λ）：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">clear</span><br><span class="line">syms a b c m p S t1 t2  <span class="comment">% 定义需要用到的所有参数/变量</span></span><br><span class="line"><span class="comment">% 构造拉格朗日函数</span></span><br><span class="line">L = (p-c)*(a-b*p) + t1*(S-a+b*p) + t2*(p-m*c);</span><br><span class="line"><span class="comment">% 对L中的决策变量p求导，命名为Equ</span></span><br><span class="line">Equ = diff(L, p);</span><br><span class="line"><span class="comment">% 记录一下Equ的表达式，后面要用</span></span><br><span class="line">Equ = a + t2 - <span class="number">2</span>*b*p + b*t1 + b*c;</span><br></pre></td></tr></table></figure><p>为方便后续计算，这里汇总下<strong>后面分类讨论时</strong>，会反复用到的几个表达式：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">clear</span><br><span class="line">syms a b c m p S t1 t2</span><br><span class="line"><span class="comment">% 1：利润函数表达式</span></span><br><span class="line">Pi = (p - c)*(a - b*p);</span><br><span class="line"><span class="comment">% 2：求导后的拉格朗日函数表达式</span></span><br><span class="line">Equ = a + t2 - <span class="number">2</span>*b*p + b*t1 + b*c;</span><br><span class="line"><span class="comment">% 3：两个约束条件的表达式</span></span><br><span class="line">g1 = S - a + b*p;</span><br><span class="line">g2 = p - m*c;</span><br></pre></td></tr></table></figure><p><strong>综上，求导后的拉格朗日函数（Equ）含有p、λ1、λ2三个未知数，接下来分类讨论的目的，就是利用KKT条件，解这三个未知数。</strong>已经有<strong>Equ&#x3D;0方程</strong>了，剩下的<strong>两个等式方程</strong>，分以下<strong>四种情况</strong>讨论吧。</p><blockquote><p><strong>情形1：若λ1&#x3D;λ2&#x3D;0，则g1&gt;0，g2&gt;0</strong></p></blockquote><p>注意，这里与第一部分数值算例中的“g1&lt;0, g2&lt;0”不同，这里是<strong>最大化问题</strong>。也许有同学已经发现了，这其实就是<strong>无约束问题</strong>（两个约束均没有起作用），得到的最优解即为之前的<strong>p*&#x3D;(a+bc)&#x2F;2b</strong>。</p><p>还记得口诀吗？<strong>等式求最优，不等式验证</strong>。所以，剩下的就是检验该解是否满足g1&gt;0，g2&gt;0。</p><p>因此，Matlab代码编写也分两步。先给出此种情形下如何计算<strong>最优p和最大利润</strong>，再计算得到该解<strong>需满足的条件</strong>。</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">%% 情形1：当t1=t2=0时，g1&gt;0, g2&gt;0</span></span><br><span class="line">equ = subs(Equ, [t1, t2], [<span class="number">0</span>, <span class="number">0</span>]);  <span class="comment">% 将t1=0, t2=0代入Equ函数</span></span><br><span class="line">Op_p = solve(equ, p)  <span class="comment">% 求最优p</span></span><br><span class="line">Pi = simplify(subs(Pi, p, Op_p))  <span class="comment">% 求最优利润并化简</span></span><br></pre></td></tr></table></figure><p>时刻记住：<strong>在做符号运算时，求得的每一个解，都是有条件的。</strong>那么该解的条件是什么呢，就是g1&gt;0，g2&gt;0。既然<strong>S</strong>和<strong>m</strong>是我们新引进的<strong>参数</strong>，那么我们就来看看它俩<strong>需满足什么条件</strong>。</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">% 将上述最优解代入g1，g2函数</span></span><br><span class="line">g1 = subs(g1, p, Op_p)  <span class="comment">% 将g1函数中的p，用Op_p的表达式代替</span></span><br><span class="line">g2 = subs(g2, p, Op_p)</span><br><span class="line"><span class="comment">% 解出g1&lt;0和g2&lt;0时，S和m需要满足的条件</span></span><br><span class="line">solve(g1, S)</span><br><span class="line">solve(g2, m)</span><br></pre></td></tr></table></figure><p>代码中solve函数解出来的解，就是S和m需要满足的条件。</p><p>汇总下，就是只有<strong>当S和m满足如下条件时，才会得到如下最优解</strong>：</p><img src="/9dca7274/40.webp"><blockquote><p><strong>情形2：若λ1&#x3D;0，λ2&gt;0，则g1&gt;0，g2&#x3D;0</strong></p></blockquote><p>此时由于g2&#x3D;p-mc&#x3D;0，故最优解就是<strong>p*&#x3D;mc</strong>；将其带入利润函数，便得到<strong>最优利润表达式</strong>。</p><p>当然，还需要看下想得到这个解，需要<strong>满足的条件</strong>，即：λ2&gt;0，且g1&gt;0。将λ1&#x3D;0，p*&#x3D;mc带入<strong>求导后的拉格朗日函数函数Equ</strong>，可以计算得到<strong>λ2</strong>的值，令其<strong>&gt;0</strong>，加上<strong>g1&lt;0</strong>的约束，便能最终该最优解<strong>适用范围</strong>。代码如下：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">%% 情形2：当t1=0，t2&gt;0时，g1&gt;0, g2=0</span></span><br><span class="line"><span class="comment">% 先记录下需要用到几个函数表达式</span></span><br><span class="line">clear</span><br><span class="line">syms a b c m p S t1 t2</span><br><span class="line">Pi = (p - c)*(a - b*p);</span><br><span class="line">Equ = a + t2 - <span class="number">2</span>*b*p + b*t1 + b*c;</span><br><span class="line">g1 = S - a + b*p;</span><br><span class="line">​</span><br><span class="line">equ1 = subs(Equ, [t1 p], [<span class="number">0</span>, m*c]);  <span class="comment">% 将t1=0，p=mc带入Equ</span></span><br><span class="line">equ2 = subs(g1, p, m*c);  <span class="comment">% 将p=mc带入g1约束</span></span><br><span class="line">Pi = simplify(subs(Pi, p, m*c));  <span class="comment">% 将p=mc带入利润函数并化简</span></span><br><span class="line">​</span><br><span class="line"><span class="comment">% 解出t2&gt;0和g1&gt;0时，S和m的范围</span></span><br><span class="line">t2 = solve(equ1, t2);  <span class="comment">% 通过equ1=0解出t2表达式</span></span><br><span class="line">solve(t2, m)  <span class="comment">% 令t2=0，用m来表示</span></span><br><span class="line">solve(equ2, S)  <span class="comment">% 令equ2=0, 用S来表示</span></span><br></pre></td></tr></table></figure><p>最后两行代码得到的解，就是为得到情形2下的最优解，需要满足的条件，汇总有：</p><img src="/9dca7274/41.webp"><blockquote><p><strong>情形3：若λ1&gt;0，λ2&#x3D;0，则g1&#x3D;0，g2&gt;0</strong></p></blockquote><p>此时由于g1 &#x3D; S-a+bp &#x3D; 0，故最优解就是<strong>p* &#x3D; (a-S)&#x2F;b</strong>；将其带入利润函数，便得到<strong>最优利润表达式</strong>。</p><p>再次回忆口诀：<strong>不等式验证</strong>。该情形还需要<strong>满足的条件</strong>，为：<strong>λ1&gt;0，且g2&gt;0</strong>。</p><p>将λ2&#x3D;0，p* &#x3D; (a-S)&#x2F;b带入Equ，可以计算得到<strong>λ1</strong>的值，令其<strong>&gt;0</strong>，加上<strong>g2&gt;0</strong>的约束，便能最终该最优解<strong>适用范围</strong>。代码如下：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">%% 情形3：当t1&gt;0，t2=0时，g1=0, g2&gt;0</span></span><br><span class="line"><span class="comment">% 先记录下需要用到几个函数表达式</span></span><br><span class="line">clear</span><br><span class="line">syms a b c m p S t1 t2</span><br><span class="line">Pi = (p - c)*(a - b*p);</span><br><span class="line">Equ = a + t2 - <span class="number">2</span>*b*p + b*t1 + b*c;</span><br><span class="line">g2 = p - m*c;</span><br><span class="line">​</span><br><span class="line">equ1 = subs(Equ, [t2 p], [<span class="number">0</span>, (a-S)/b]);  <span class="comment">% 将t2=0，p=(a-S)/b带入Equ</span></span><br><span class="line">equ2 = subs(g2, p, (a-S)/b);  <span class="comment">% 将p=(a-S)/b带入g2约束</span></span><br><span class="line">Pi = simplify(subs(Pi, p, (a-S)/b));  <span class="comment">% 将p=(a-S)/b带入利润函数</span></span><br><span class="line">​</span><br><span class="line"><span class="comment">% 解出t1&gt;0和g2&gt;0时，S和m的范围</span></span><br><span class="line">t1 = solve(equ1, t1);  <span class="comment">% 通过equ1=0解出t1表达式</span></span><br><span class="line">solve(t1, S)  <span class="comment">% 令t2=0，用S来表示</span></span><br><span class="line">solve(equ2, m)  <span class="comment">% 令equ2=0, 用S来表示</span></span><br></pre></td></tr></table></figure><p>汇总代码计算结果，有：</p><img src="/9dca7274/42.webp"><blockquote><p><strong>情形4：若λ1&gt;0，λ2&gt;0，则g1&#x3D;0，g2&#x3D;0</strong></p></blockquote><p>该情形下的最优解就是求解三方程Equ&#x3D;0，g1&#x3D;0，g2&#x3D;0下的p、λ1、λ2值。</p><p>由于两个约束都是关于p的一次函数，因此会得到<strong>矛盾的结论</strong>，故此种情形舍弃。</p><img src="/9dca7274/43.webp"><p>需要说明的是，科研中的很多问题会<strong>同时决策两个变量</strong>，或者有<strong>非线性的约束</strong>等，此时两个约束均取“&#x3D;”是<strong>有解</strong>的。我这个算例编的简单了，造成该种情形无解。</p><p><strong>（iii）最优值间的相互比较</strong></p><p>上述4种情形，3种情形均有最优解。很显然，工作还没做完，我们真正想得到的是<strong>哪些参数条件下，最优定价和最大利润是多少？</strong></p><p>如果是<strong>数值算例</strong>，很简单直观，拿着每种情形下的最大利润比较下即可。</p><p>但<strong>符号运算</strong>就不得不<strong>分类讨论</strong>，很多时候，我们甚至连<strong>某个表达式的正负号</strong>都无法确定。</p><p>但大家也不用太担心相互比较会很麻烦。因为，<strong>只看利润的话，真正需要比较的，其实只有情形2和情形3下的利润大小</strong>。聪明的你知道这是为什么吗？</p><blockquote><p><strong>答案揭晓：</strong><br>情形1是无约束极值问题，相当于<strong>全域搜索最优解</strong>，其利润一定是<strong>最大的</strong>；情形2和3下的最优解，均受到了<strong>一个</strong>约束g&#x3D;0的<strong>硬性限制</strong>，利润一定会小一点；而情形4限制更强，要求<strong>两个约束均为0</strong>，这样再去求利润，一定是最小的。</p></blockquote><p>因此，在情形1的参数范围内，它就是老大，没必要跟它比了。所以，重点还是落在情形2和情形3的参数范围内，到底谁利润更大。</p><p>为方便阅读，避免前后翻看，情形2和情形3的结论汇总如下。</p><img src="/9dca7274/44.webp"><p>上述一通分析下来，其实也很简单嘛，将两利润做差，即Pi2 - Pi3，再看看正负号呗。</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">% 比较情形2和情形3下的利润</span></span><br><span class="line">clear</span><br><span class="line">syms a b c m S</span><br><span class="line">Pi2 = c*(a - b*c*m)*(m<span class="number">-1</span>);  <span class="comment">% 情形2下的最优利润</span></span><br><span class="line">Pi3 = -S*(c+(S-a)/b);  <span class="comment">% 情形3下的最优利润</span></span><br><span class="line">​</span><br><span class="line">del_Pi = collect(Pi2 - Pi3, S)  <span class="comment">% 将两式作差，并以S的降序排列</span></span><br><span class="line">del_Pi = S^<span class="number">2</span>/b + (c-a/b)*S + c*(a-b*c*m)*(m<span class="number">-1</span>)</span><br></pre></td></tr></table></figure><p>这里用到了<strong>collect()函数</strong>，真的非常好用，大家一定要记住这个函数。</p><p>官方说collect是<strong>合并同类项函数</strong>，但我建议大家这样记忆：<strong>collect(f, x)就是将f函数以x的从高到低次项依次展开</strong>。如上述代码最后一行，就是以<strong>S的二次项，S的一次项，S的常数项</strong>依次展开。</p><p>这样有什么好处？那可太有用了，我们做科研时，一旦发现表达式是关于某参数的，<strong>3次甚至4次项</strong>后，建议换个参数或者换条思路求解吧。</p><p>因为求解三次函数的<strong>卡丹公式</strong>非常长，不适用于论文。而求解二次函数，<strong>韦达定理</strong>大家都是会的。</p><p>回到正文，观察差值<strong>del_Pi</strong>函数，是关于S的<strong>二次函数</strong>，开头向上，截距、对称轴均为正，且有两个解，分别为：</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">solve(del_Pi, S);  <span class="comment">% 求解方程del=0的两个解</span></span><br><span class="line">S1 = b*c*m - b*c;  S2 = a - b*c*m</span><br></pre></td></tr></table></figure><p>紧接着，这两个解谁大呢？再做差呗。看看和m的关系。</p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">del_S = S1 - S2;</span><br><span class="line">solve(del_S, m)</span><br><span class="line"><span class="comment">% 求解得到 m &gt; (a + b*c)/(2*b*c)</span></span><br></pre></td></tr></table></figure><p>而 m &gt; (a+b*c)&#x2F;(2*b*c)，恰好就是情形2下m的取值范围，故 S1 &gt; S2。那基于此，我们可以画出del_Pi &#x3D; Pi2 - Pi3的图像如下。</p><img src="/9dca7274/45.webp"><blockquote><p>当0 &lt; S &lt; bcm-bc时，Pi2 &lt; Pi3；<br>当bcm-bc &lt; S &lt; (a-bc)&#x2F;2时，Pi2 &gt; Pi3;<br>当(a-bc)&#x2F;2 &lt; S时，不用算了，Pi1最大。</p></blockquote><p>细心的小伙伴也许会说，上面的第一个范围有问题。当 0 &lt; S &lt; a - bcm 时，不应该是 Pi2 &gt; Pi3 吗？从图像上看，确实是的，但是别忘了，情形2中的 S 取值，是要<strong>“&gt; a - bcm”</strong>的。所以当 0 &lt; S &lt; a - bcm 时，Pi2压根就没有图像。</p><p>至此，所有的问题就都分析完了。如果上述有错误，望大家批评指正。核心思想是<strong>会用KKT条件分类讨论</strong>，并会<strong>比较不同情形间的最优利润</strong>。</p><hr><hr><h3 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h3><p>总结下本文的核心：</p><ol><li>KKT条件是拉格朗日乘数法的推广，理解引入λi的原因及作用；</li><li>理解λg(X*)&#x3D;0，就理解了KKT条件的精髓；</li><li>掌握采用图示法分析f(X)和g(X)的梯度关系。</li><li>数值算例中，在运用KKT条件时，很容易发现矛盾（不满足条件）的解，也很容易比较多个解的大小；</li><li>符号运算时，若不考虑参数范围，四种情形下的利润大小关系一定有：情形1 &gt; 情形2、3 &gt; 情形4；</li><li>比较利润大小时，最好寻求其关于某个参数的一次或二次函数关系，切忌使用高次项参数。</li></ol><p>为了方便大家记忆KKT条件的求解步骤，编了个口诀，希望能对大家有所帮助：</p><blockquote><p>大大小小<br>等式求最优，不等式验证</p></blockquote><p><strong>“大大小小”含义：</strong>在建立拉格朗日函数前，需要整理成<strong>标准形式</strong>。对于<strong>最大化问题</strong>，约束整理成<strong>“≥0”</strong>形式；对于<strong>最小化问题</strong>，约束整理成<strong>“≤0”</strong>形式。</p><p>别看写了不少，其实就记住这<strong>两行口诀</strong>就行。怎么样，是不是感觉KKT条件也不难嘛。</p><p>其实，还有拉格朗日乘子的敏感性分析没讲，这和<strong>对偶理论</strong>有关，篇幅有限，也较难，不再展开。</p><hr><hr><h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3><blockquote><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/556832103">https://zhuanlan.zhihu.com/p/556832103</a></p></blockquote></div><footer class="post-footer"><div class="post-nav"><div class="post-nav-item"><a href="/7bacd7c9.html" rel="prev" title="经典模型压缩方法：知识蒸馏系列（三）：使用 MMRazor 实现知识蒸馏算法"><i class="fa fa-chevron-left"></i> 经典模型压缩方法：知识蒸馏系列（三）：使用 MMRazor 实现知识蒸馏算法</a></div><div class="post-nav-item"><a href="/5c4e465a.html" rel="next" title="最优化方法-4.约束优化方法【复习笔记】">最优化方法-4.约束优化方法【复习笔记】 <i class="fa fa-chevron-right"></i></a></div></div></footer></article></div><div class="comments" id="valine-comments"></div><script>window.addEventListener("tabs:register",()=>{let t=CONFIG.comments["activeClass"];var e;(t=CONFIG.comments.storage?localStorage.getItem("comments_active")||t:t)&&(e=document.querySelector(`a[href="#comment-${t}"]`))&&e.click()}),CONFIG.comments.storage&&window.addEventListener("tabs:click",t=>{t.target.matches(".tabs-comment .tab-content .tab-pane")&&(t=t.target.classList[1],localStorage.setItem("comments_active",t))})</script></div><div class="toggle sidebar-toggle"><span class="toggle-line toggle-line-first"></span> <span class="toggle-line toggle-line-middle"></span> <span class="toggle-line toggle-line-last"></span></div><aside class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc">文章目录</li><li class="sidebar-nav-overview">站点概览</li></ul><div class="post-toc-wrap sidebar-panel"><div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFKKT"><span class="nav-number">1.</span> <span class="nav-text">什么是KKT</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BD%95%E8%B0%93%E6%9C%80%E4%BC%98%E5%8C%96%E9%97%AE%E9%A2%98"><span class="nav-number">1.1.</span> <span class="nav-text">何谓最优化问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9C%80%E4%BC%98%E5%8C%96%E9%97%AE%E9%A2%98%E5%88%86%E7%B1%BB"><span class="nav-number">1.2.</span> <span class="nav-text">最优化问题分类</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#KKT%E6%9D%A1%E4%BB%B6%E7%90%86%E8%AE%BA%E9%83%A8%E5%88%86"><span class="nav-number">2.</span> <span class="nav-text">KKT条件理论部分</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#KKT%E6%9D%A1%E4%BB%B6%E6%A0%B8%E5%BF%83%E6%80%9D%E6%83%B3"><span class="nav-number">2.1.</span> <span class="nav-text">KKT条件核心思想</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#KKT%E6%9D%A1%E4%BB%B6%E7%9A%84%E6%95%B0%E5%AD%A6%E5%85%AC%E5%BC%8F"><span class="nav-number">2.2.</span> <span class="nav-text">KKT条件的数学公式</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#KKT%E6%9D%A1%E4%BB%B6%E8%A1%A5%E5%85%85%E8%AF%B4%E6%98%8E"><span class="nav-number">3.</span> <span class="nav-text">KKT条件补充说明</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%85%85%E5%88%86%E6%80%A7%E3%80%81%E5%BF%85%E8%A6%81%E6%80%A7%E8%AF%B4%E6%98%8E"><span class="nav-number">3.1.</span> <span class="nav-text">充分性、必要性说明</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Min-x2F-Max%E4%B8%8E%E2%80%9C%E2%89%A40%E2%80%9D%E5%92%8C%E2%80%9C%E2%89%A50%E2%80%9D%E7%9A%84%E8%A7%84%E5%AE%9A"><span class="nav-number">3.2.</span> <span class="nav-text">Min&#x2F;Max与“≤0”和“≥0”的规定</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%AD%A3%E5%88%99%E6%80%A7%E6%9D%A1%E4%BB%B6-x2F-%E7%BA%A6%E6%9D%9F%E8%A7%84%E8%8C%83%E8%AF%B4%E6%98%8E"><span class="nav-number">3.3.</span> <span class="nav-text">正则性条件&#x2F;约束规范说明</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%87%A0%E7%B1%BB%E9%9D%9E%E5%85%89%E6%BB%91%E5%87%BD%E6%95%B0%E7%9A%84%E8%BD%AC%E5%8C%96"><span class="nav-number">3.4.</span> <span class="nav-text">几类非光滑函数的转化</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#KKT%E6%9D%A1%E4%BB%B6%E4%B8%8EKT%E6%9D%A1%E4%BB%B6"><span class="nav-number">3.5.</span> <span class="nav-text">KKT条件与KT条件</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E5%80%BC%E4%B8%8E%E7%AC%A6%E5%8F%B7%E8%BF%90%E7%AE%97%EF%BC%88%E9%87%8D%E7%82%B9%EF%BC%89"><span class="nav-number">4.</span> <span class="nav-text">数值与符号运算（重点）</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B0%E5%80%BC%E8%AE%A1%E7%AE%97%E5%AE%9E%E6%93%8D"><span class="nav-number">4.1.</span> <span class="nav-text">数值计算实操</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AC%A6%E5%8F%B7%E8%BF%90%E7%AE%97%E5%AE%9E%E6%93%8D"><span class="nav-number">4.2.</span> <span class="nav-text">符号运算实操</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BB%93%E8%AF%AD"><span class="nav-number">5.</span> <span class="nav-text">结语</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="nav-number">6.</span> <span class="nav-text">参考资料</span></a></li></ol></div></div><div class="site-overview-wrap sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" alt="Aisaka Aoi" src="/images/manatsu.jpg"><p class="site-author-name" itemprop="name">Aisaka Aoi</p><div class="site-description" itemprop="description">逢坂葵的个人博客</div></div><div class="site-state-wrap motion-element"><nav class="site-state"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">1023</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">20</span> <span class="site-state-item-name">分类</span></a></div></nav></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/AisakaAoi" title="GitHub 👨‍💻 → https:&#x2F;&#x2F;github.com&#x2F;AisakaAoi" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub 👨‍💻</a> </span><span class="links-of-author-item"><a href="https://github.com/Aisakaorz" title="GitHub 👩‍💻 → https:&#x2F;&#x2F;github.com&#x2F;Aisakaorz" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub 👩‍💻</a> </span><span class="links-of-author-item"><a href="mailto:aisakaaoi@qq.com" title="E-Mail 📧 → mailto:aisakaaoi@qq.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail 📧</a> </span><span class="links-of-author-item"><a href="mailto:chenzongnan@m.scnu.edu.cn" title="E-Mail 🏫 → mailto:chenzongnan@m.scnu.edu.cn" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail 🏫</a> </span><span class="links-of-author-item"><a href="https://space.bilibili.com/91560309" title="Bilibili 📺 → https:&#x2F;&#x2F;space.bilibili.com&#x2F;91560309" rel="noopener" target="_blank"><i class="fab fa-bilibili fa-fw"></i>Bilibili 📺</a> </span><span class="links-of-author-item"><a href="https://space.bilibili.com/198562921" title="Bilibili 🎮 → https:&#x2F;&#x2F;space.bilibili.com&#x2F;198562921" rel="noopener" target="_blank"><i class="fab fa-bilibili fa-fw"></i>Bilibili 🎮</a> </span><span class="links-of-author-item"><a href="https://www.youtube.com/channel/UCALvyn5Cl76GCotO9pczvjg" title="YouTube 📺 → https:&#x2F;&#x2F;www.youtube.com&#x2F;channel&#x2F;UCALvyn5Cl76GCotO9pczvjg" rel="noopener" target="_blank"><i class="fab fa-youtube fa-fw"></i>YouTube 📺</a></span></div></div><div class="back-to-top motion-element"><i class="fa fa-arrow-up"></i> <span>0%</span></div></div></aside><div id="sidebar-dimmer"></div></div></main><footer class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2026</span> <span class="with-love"><i class="fa fa-heart"></i> </span><span class="author" itemprop="copyrightHolder">Aisaka Aoi</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-chart-area"></i> </span><span class="post-meta-item-text">站点总字数：</span> <span title="站点总字数">4m</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-coffee"></i> </span><span class="post-meta-item-text">站点阅读时长 &asymp;</span> <span title="站点阅读时长">164:56</span></div><div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> 强力驱动</div></div></footer></div><script src="/lib/anime.min.js"></script><script src="/lib/velocity/velocity.min.js"></script><script src="/lib/velocity/velocity.ui.min.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/pisces.js"></script><script src="/js/next-boot.js"></script><script src="/js/local-search.js"></script><script>document.querySelectorAll(".pdfobject-container").forEach(e=>{var t=e.dataset.target,a="#"+Object.entries({navpanes:0,toolbar:0,statusbar:0,pagemode:"thumbs",view:"FitH"}).map(([e,t])=>e+"="+encodeURIComponent(t)).join("&"),r="/lib/pdf/web/viewer.html?file="+encodeURIComponent(t)+a;NexT.utils.supportsPDFs()?e.innerHTML=`<embed class="pdfobject" src="${t+a}" type="application/pdf" style="height: ${e.dataset.height};">`:e.innerHTML=`<iframe src="${r}" style="height: ${e.dataset.height};" frameborder="0"></iframe>`})</script><script>NexT.utils.loadComments(document.querySelector("#valine-comments"),()=>{NexT.utils.getScript("//unpkg.com/valine/dist/Valine.min.js",()=>{var i=["nick","mail","link"],e="nick,mail,link".split(",").filter(e=>i.includes(e));new Valine({el:"#valine-comments",verify:!0,notify:!0,appId:"UqjWdRYbIUEUQRXhBUUIh1QE-gzGzoHsz",appKey:"gj89JXC485PFbpdHLKVkz6dm",placeholder:"这里可以发送评论~（上面可以输入昵称、邮箱）",avatar:"mm",meta:e,pageSize:"10",visitor:!0,lang:"zh-cn",path:location.pathname,recordIP:!1,serverURLs:""})},window.Valine)})</script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({pluginRootPath:"live2dw/",pluginJsPath:"lib/",pluginModelPath:"assets/",tagMode:!1,debug:!1,model:{jsonPath:"/live2dw/assets/assets/haru02.model.json"},display:{position:"right",width:208,height:520},mobile:{show:!1},log:!1})</script></body></html>